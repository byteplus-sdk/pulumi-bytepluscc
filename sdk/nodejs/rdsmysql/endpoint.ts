// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * 连接终端是云数据库 MySQL 版提供的位于数据库和应用程序之间的网络代理服务。根据连接终端的功能差异，连接终端可以分为代理终端和直连终端两种类型。通过代理终端的连接将经过代理，可使用代理相关的特性和功能，如读写分离、负载均衡、空闲连接回收和 Multi-Statements 等；通过直连终端的连接将直连到对应节点，不能使用代理相关特性。
 *
 * ## Import
 *
 * ```sh
 * $ pulumi import bytepluscc:rdsmysql/endpoint:Endpoint example "instance_id|endpoint_id"
 * ```
 */
export class Endpoint extends pulumi.CustomResource {
    /**
     * Get an existing Endpoint resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: EndpointState, opts?: pulumi.CustomResourceOptions): Endpoint {
        return new Endpoint(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'bytepluscc:rdsmysql/endpoint:Endpoint';

    /**
     * Returns true if the given object is an instance of Endpoint.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Endpoint {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Endpoint.__pulumiType;
    }

    public readonly addresses!: pulumi.Output<outputs.rdsmysql.EndpointAddress[]>;
    /**
     * 当终端类型为读写终端或只读终端时，支持设置新节点是否自动加入。取值：true：自动加入。false：不自动加入（默认）。
     */
    public readonly autoAddNewNodes!: pulumi.Output<boolean>;
    /**
     * 是否关联所有的备节点。取值：true：是。默认值。false：否。说明仅多节点实例的只读终端支持该配置。仅在实例有两个或更多备节点时才能关闭此功能。
     */
    public readonly connectAllSlaveNodes!: pulumi.Output<boolean>;
    /**
     * 连接终端标签。
     */
    public /*out*/ readonly connectionInfoTags!: pulumi.Output<string[]>;
    /**
     * 连接终端类型。取值：Proxy：代理终端。Direct：直连终端。说明如实例的数据库代理功能已开启，可以取值为 Proxy 或 Direct。如实例的数据库代理功能未开启，仅可以取值为 Direct。可调用 DescribeDBInstanceDetail 接口查询实例数据库代理功能的开启状态。
     */
    public readonly connectionMode!: pulumi.Output<string>;
    /**
     * 代理终端的连接池类型。取值：Transaction：事务级连接池。默认值。Direct：直连模式。说明单节点实例不支持该功能。
     */
    public readonly connectionPoolType!: pulumi.Output<string>;
    /**
     * 连接终端的 SQL 转发规则。
     */
    public /*out*/ readonly customRouteStrategy!: pulumi.Output<outputs.rdsmysql.EndpointCustomRouteStrategy>;
    /**
     * 备注。
     */
    public readonly description!: pulumi.Output<string>;
    /**
     * 是否开启连接终端的连接保持功能。取值：true：是。false：否。说明仅代理终端支持该设置。
     */
    public readonly enableConnectionPersistent!: pulumi.Output<boolean>;
    /**
     * 是否已开启全局只读，取值：Enable：开启。Disable：未开启。
     */
    public /*out*/ readonly enableReadOnly!: pulumi.Output<string>;
    /**
     * 实例连接终端 ID。
     */
    public /*out*/ readonly endpointId!: pulumi.Output<string>;
    /**
     * 实例连接终端名称。
     */
    public readonly endpointName!: pulumi.Output<string>;
    /**
     * 终端类型。取值为 Custom，自定义终端。
     */
    public readonly endpointType!: pulumi.Output<string>;
    /**
     * 空闲连接回收功能是否开启。true：开启。false：不开启。说明仅代理终端会返回该字段。
     */
    public readonly idleConnectionReclaim!: pulumi.Output<boolean>;
    /**
     * 是否开启事务分离。取值：true：是。false：否。说明仅代理终端会返回该字段。
     */
    public readonly implicitTransSplit!: pulumi.Output<boolean>;
    /**
     * 实例 ID。
     */
    public readonly instanceId!: pulumi.Output<string>;
    /**
     * 是否开启主节点路由。取值：true：是。false：否。说明仅代理终端会返回该字段。
     */
    public readonly masterNodeRouting!: pulumi.Output<boolean>;
    /**
     * 过载保护超时时间。取值范围为 60~7200 之间的整数，单位为秒。说明仅代理终端会返回该字段。
     */
    public readonly masterProtectorTimeout!: pulumi.Output<number>;
    /**
     * 代理终端的 Multi-Statements 模式。取值：Strict：Strict 模式。默认值。Loose：Loose 模式。
     */
    public readonly multiStatementsMode!: pulumi.Output<string>;
    /**
     * 连接终端配置的节点 ID 列表。当 EndpointType 为 Custom 时必选。说明如需将主节点加入终端，不需填写主节点 ID，只需填写 Primary。多个节点 ID 之间用英文逗号（,）分隔。
     */
    public readonly nodes!: pulumi.Output<string>;
    /**
     * 是否开启过载保护。取值：true：是。false：否。说明仅代理终端会返回该字段。
     */
    public readonly overloadProtection!: pulumi.Output<boolean>;
    /**
     * 读权重分配模式。当开通读写分离设置为 true 时需要传入此参数。在 CreateDBEndpoint 和 ModifyDBEndpoint 接口中做请求参数时，取值范围如下：LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。在 DescribeDBInstanceDetail 接口中做返回参数时，取值范围如下：Default：按规格权重自动分配。Custom：自定义分配权重。RoundRobin：轮询调度。LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。
     */
    public readonly readOnlyNodeDistributionType!: pulumi.Output<string>;
    /**
     * 只读节点延迟阈值。取值范围为 1~3600，默认为 30，单位为秒。
     */
    public readonly readOnlyNodeMaxDelayTime!: pulumi.Output<number>;
    public readonly readOnlyNodeWeights!: pulumi.Output<outputs.rdsmysql.EndpointReadOnlyNodeWeight[]>;
    /**
     * 读写模式：ReadWrite：读写。ReadOnly：只读。
     */
    public readonly readWriteMode!: pulumi.Output<string>;
    /**
     * 是否开启读写分离。取值：true：是。默认值。false：否。
     */
    public readonly readWriteSpliting!: pulumi.Output<boolean>;

    /**
     * Create a Endpoint resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args?: EndpointArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: EndpointArgs | EndpointState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as EndpointState | undefined;
            resourceInputs["addresses"] = state ? state.addresses : undefined;
            resourceInputs["autoAddNewNodes"] = state ? state.autoAddNewNodes : undefined;
            resourceInputs["connectAllSlaveNodes"] = state ? state.connectAllSlaveNodes : undefined;
            resourceInputs["connectionInfoTags"] = state ? state.connectionInfoTags : undefined;
            resourceInputs["connectionMode"] = state ? state.connectionMode : undefined;
            resourceInputs["connectionPoolType"] = state ? state.connectionPoolType : undefined;
            resourceInputs["customRouteStrategy"] = state ? state.customRouteStrategy : undefined;
            resourceInputs["description"] = state ? state.description : undefined;
            resourceInputs["enableConnectionPersistent"] = state ? state.enableConnectionPersistent : undefined;
            resourceInputs["enableReadOnly"] = state ? state.enableReadOnly : undefined;
            resourceInputs["endpointId"] = state ? state.endpointId : undefined;
            resourceInputs["endpointName"] = state ? state.endpointName : undefined;
            resourceInputs["endpointType"] = state ? state.endpointType : undefined;
            resourceInputs["idleConnectionReclaim"] = state ? state.idleConnectionReclaim : undefined;
            resourceInputs["implicitTransSplit"] = state ? state.implicitTransSplit : undefined;
            resourceInputs["instanceId"] = state ? state.instanceId : undefined;
            resourceInputs["masterNodeRouting"] = state ? state.masterNodeRouting : undefined;
            resourceInputs["masterProtectorTimeout"] = state ? state.masterProtectorTimeout : undefined;
            resourceInputs["multiStatementsMode"] = state ? state.multiStatementsMode : undefined;
            resourceInputs["nodes"] = state ? state.nodes : undefined;
            resourceInputs["overloadProtection"] = state ? state.overloadProtection : undefined;
            resourceInputs["readOnlyNodeDistributionType"] = state ? state.readOnlyNodeDistributionType : undefined;
            resourceInputs["readOnlyNodeMaxDelayTime"] = state ? state.readOnlyNodeMaxDelayTime : undefined;
            resourceInputs["readOnlyNodeWeights"] = state ? state.readOnlyNodeWeights : undefined;
            resourceInputs["readWriteMode"] = state ? state.readWriteMode : undefined;
            resourceInputs["readWriteSpliting"] = state ? state.readWriteSpliting : undefined;
        } else {
            const args = argsOrState as EndpointArgs | undefined;
            resourceInputs["addresses"] = args ? args.addresses : undefined;
            resourceInputs["autoAddNewNodes"] = args ? args.autoAddNewNodes : undefined;
            resourceInputs["connectAllSlaveNodes"] = args ? args.connectAllSlaveNodes : undefined;
            resourceInputs["connectionMode"] = args ? args.connectionMode : undefined;
            resourceInputs["connectionPoolType"] = args ? args.connectionPoolType : undefined;
            resourceInputs["description"] = args ? args.description : undefined;
            resourceInputs["enableConnectionPersistent"] = args ? args.enableConnectionPersistent : undefined;
            resourceInputs["endpointName"] = args ? args.endpointName : undefined;
            resourceInputs["endpointType"] = args ? args.endpointType : undefined;
            resourceInputs["idleConnectionReclaim"] = args ? args.idleConnectionReclaim : undefined;
            resourceInputs["implicitTransSplit"] = args ? args.implicitTransSplit : undefined;
            resourceInputs["instanceId"] = args ? args.instanceId : undefined;
            resourceInputs["masterNodeRouting"] = args ? args.masterNodeRouting : undefined;
            resourceInputs["masterProtectorTimeout"] = args ? args.masterProtectorTimeout : undefined;
            resourceInputs["multiStatementsMode"] = args ? args.multiStatementsMode : undefined;
            resourceInputs["nodes"] = args ? args.nodes : undefined;
            resourceInputs["overloadProtection"] = args ? args.overloadProtection : undefined;
            resourceInputs["readOnlyNodeDistributionType"] = args ? args.readOnlyNodeDistributionType : undefined;
            resourceInputs["readOnlyNodeMaxDelayTime"] = args ? args.readOnlyNodeMaxDelayTime : undefined;
            resourceInputs["readOnlyNodeWeights"] = args ? args.readOnlyNodeWeights : undefined;
            resourceInputs["readWriteMode"] = args ? args.readWriteMode : undefined;
            resourceInputs["readWriteSpliting"] = args ? args.readWriteSpliting : undefined;
            resourceInputs["connectionInfoTags"] = undefined /*out*/;
            resourceInputs["customRouteStrategy"] = undefined /*out*/;
            resourceInputs["enableReadOnly"] = undefined /*out*/;
            resourceInputs["endpointId"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(Endpoint.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Endpoint resources.
 */
export interface EndpointState {
    addresses?: pulumi.Input<pulumi.Input<inputs.rdsmysql.EndpointAddress>[]>;
    /**
     * 当终端类型为读写终端或只读终端时，支持设置新节点是否自动加入。取值：true：自动加入。false：不自动加入（默认）。
     */
    autoAddNewNodes?: pulumi.Input<boolean>;
    /**
     * 是否关联所有的备节点。取值：true：是。默认值。false：否。说明仅多节点实例的只读终端支持该配置。仅在实例有两个或更多备节点时才能关闭此功能。
     */
    connectAllSlaveNodes?: pulumi.Input<boolean>;
    /**
     * 连接终端标签。
     */
    connectionInfoTags?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * 连接终端类型。取值：Proxy：代理终端。Direct：直连终端。说明如实例的数据库代理功能已开启，可以取值为 Proxy 或 Direct。如实例的数据库代理功能未开启，仅可以取值为 Direct。可调用 DescribeDBInstanceDetail 接口查询实例数据库代理功能的开启状态。
     */
    connectionMode?: pulumi.Input<string>;
    /**
     * 代理终端的连接池类型。取值：Transaction：事务级连接池。默认值。Direct：直连模式。说明单节点实例不支持该功能。
     */
    connectionPoolType?: pulumi.Input<string>;
    /**
     * 连接终端的 SQL 转发规则。
     */
    customRouteStrategy?: pulumi.Input<inputs.rdsmysql.EndpointCustomRouteStrategy>;
    /**
     * 备注。
     */
    description?: pulumi.Input<string>;
    /**
     * 是否开启连接终端的连接保持功能。取值：true：是。false：否。说明仅代理终端支持该设置。
     */
    enableConnectionPersistent?: pulumi.Input<boolean>;
    /**
     * 是否已开启全局只读，取值：Enable：开启。Disable：未开启。
     */
    enableReadOnly?: pulumi.Input<string>;
    /**
     * 实例连接终端 ID。
     */
    endpointId?: pulumi.Input<string>;
    /**
     * 实例连接终端名称。
     */
    endpointName?: pulumi.Input<string>;
    /**
     * 终端类型。取值为 Custom，自定义终端。
     */
    endpointType?: pulumi.Input<string>;
    /**
     * 空闲连接回收功能是否开启。true：开启。false：不开启。说明仅代理终端会返回该字段。
     */
    idleConnectionReclaim?: pulumi.Input<boolean>;
    /**
     * 是否开启事务分离。取值：true：是。false：否。说明仅代理终端会返回该字段。
     */
    implicitTransSplit?: pulumi.Input<boolean>;
    /**
     * 实例 ID。
     */
    instanceId?: pulumi.Input<string>;
    /**
     * 是否开启主节点路由。取值：true：是。false：否。说明仅代理终端会返回该字段。
     */
    masterNodeRouting?: pulumi.Input<boolean>;
    /**
     * 过载保护超时时间。取值范围为 60~7200 之间的整数，单位为秒。说明仅代理终端会返回该字段。
     */
    masterProtectorTimeout?: pulumi.Input<number>;
    /**
     * 代理终端的 Multi-Statements 模式。取值：Strict：Strict 模式。默认值。Loose：Loose 模式。
     */
    multiStatementsMode?: pulumi.Input<string>;
    /**
     * 连接终端配置的节点 ID 列表。当 EndpointType 为 Custom 时必选。说明如需将主节点加入终端，不需填写主节点 ID，只需填写 Primary。多个节点 ID 之间用英文逗号（,）分隔。
     */
    nodes?: pulumi.Input<string>;
    /**
     * 是否开启过载保护。取值：true：是。false：否。说明仅代理终端会返回该字段。
     */
    overloadProtection?: pulumi.Input<boolean>;
    /**
     * 读权重分配模式。当开通读写分离设置为 true 时需要传入此参数。在 CreateDBEndpoint 和 ModifyDBEndpoint 接口中做请求参数时，取值范围如下：LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。在 DescribeDBInstanceDetail 接口中做返回参数时，取值范围如下：Default：按规格权重自动分配。Custom：自定义分配权重。RoundRobin：轮询调度。LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。
     */
    readOnlyNodeDistributionType?: pulumi.Input<string>;
    /**
     * 只读节点延迟阈值。取值范围为 1~3600，默认为 30，单位为秒。
     */
    readOnlyNodeMaxDelayTime?: pulumi.Input<number>;
    readOnlyNodeWeights?: pulumi.Input<pulumi.Input<inputs.rdsmysql.EndpointReadOnlyNodeWeight>[]>;
    /**
     * 读写模式：ReadWrite：读写。ReadOnly：只读。
     */
    readWriteMode?: pulumi.Input<string>;
    /**
     * 是否开启读写分离。取值：true：是。默认值。false：否。
     */
    readWriteSpliting?: pulumi.Input<boolean>;
}

/**
 * The set of arguments for constructing a Endpoint resource.
 */
export interface EndpointArgs {
    addresses?: pulumi.Input<pulumi.Input<inputs.rdsmysql.EndpointAddress>[]>;
    /**
     * 当终端类型为读写终端或只读终端时，支持设置新节点是否自动加入。取值：true：自动加入。false：不自动加入（默认）。
     */
    autoAddNewNodes?: pulumi.Input<boolean>;
    /**
     * 是否关联所有的备节点。取值：true：是。默认值。false：否。说明仅多节点实例的只读终端支持该配置。仅在实例有两个或更多备节点时才能关闭此功能。
     */
    connectAllSlaveNodes?: pulumi.Input<boolean>;
    /**
     * 连接终端类型。取值：Proxy：代理终端。Direct：直连终端。说明如实例的数据库代理功能已开启，可以取值为 Proxy 或 Direct。如实例的数据库代理功能未开启，仅可以取值为 Direct。可调用 DescribeDBInstanceDetail 接口查询实例数据库代理功能的开启状态。
     */
    connectionMode?: pulumi.Input<string>;
    /**
     * 代理终端的连接池类型。取值：Transaction：事务级连接池。默认值。Direct：直连模式。说明单节点实例不支持该功能。
     */
    connectionPoolType?: pulumi.Input<string>;
    /**
     * 备注。
     */
    description?: pulumi.Input<string>;
    /**
     * 是否开启连接终端的连接保持功能。取值：true：是。false：否。说明仅代理终端支持该设置。
     */
    enableConnectionPersistent?: pulumi.Input<boolean>;
    /**
     * 实例连接终端名称。
     */
    endpointName?: pulumi.Input<string>;
    /**
     * 终端类型。取值为 Custom，自定义终端。
     */
    endpointType?: pulumi.Input<string>;
    /**
     * 空闲连接回收功能是否开启。true：开启。false：不开启。说明仅代理终端会返回该字段。
     */
    idleConnectionReclaim?: pulumi.Input<boolean>;
    /**
     * 是否开启事务分离。取值：true：是。false：否。说明仅代理终端会返回该字段。
     */
    implicitTransSplit?: pulumi.Input<boolean>;
    /**
     * 实例 ID。
     */
    instanceId?: pulumi.Input<string>;
    /**
     * 是否开启主节点路由。取值：true：是。false：否。说明仅代理终端会返回该字段。
     */
    masterNodeRouting?: pulumi.Input<boolean>;
    /**
     * 过载保护超时时间。取值范围为 60~7200 之间的整数，单位为秒。说明仅代理终端会返回该字段。
     */
    masterProtectorTimeout?: pulumi.Input<number>;
    /**
     * 代理终端的 Multi-Statements 模式。取值：Strict：Strict 模式。默认值。Loose：Loose 模式。
     */
    multiStatementsMode?: pulumi.Input<string>;
    /**
     * 连接终端配置的节点 ID 列表。当 EndpointType 为 Custom 时必选。说明如需将主节点加入终端，不需填写主节点 ID，只需填写 Primary。多个节点 ID 之间用英文逗号（,）分隔。
     */
    nodes?: pulumi.Input<string>;
    /**
     * 是否开启过载保护。取值：true：是。false：否。说明仅代理终端会返回该字段。
     */
    overloadProtection?: pulumi.Input<boolean>;
    /**
     * 读权重分配模式。当开通读写分离设置为 true 时需要传入此参数。在 CreateDBEndpoint 和 ModifyDBEndpoint 接口中做请求参数时，取值范围如下：LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。在 DescribeDBInstanceDetail 接口中做返回参数时，取值范围如下：Default：按规格权重自动分配。Custom：自定义分配权重。RoundRobin：轮询调度。LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。
     */
    readOnlyNodeDistributionType?: pulumi.Input<string>;
    /**
     * 只读节点延迟阈值。取值范围为 1~3600，默认为 30，单位为秒。
     */
    readOnlyNodeMaxDelayTime?: pulumi.Input<number>;
    readOnlyNodeWeights?: pulumi.Input<pulumi.Input<inputs.rdsmysql.EndpointReadOnlyNodeWeight>[]>;
    /**
     * 读写模式：ReadWrite：读写。ReadOnly：只读。
     */
    readWriteMode?: pulumi.Input<string>;
    /**
     * 是否开启读写分离。取值：true：是。默认值。false：否。
     */
    readWriteSpliting?: pulumi.Input<boolean>;
}
