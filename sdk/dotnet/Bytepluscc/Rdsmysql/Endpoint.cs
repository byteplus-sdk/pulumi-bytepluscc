// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;
using Pulumi;

namespace Byteplus.Pulumi.Bytepluscc.Rdsmysql
{
    /// <summary>
    /// 连接终端是云数据库 MySQL 版提供的位于数据库和应用程序之间的网络代理服务。根据连接终端的功能差异，连接终端可以分为代理终端和直连终端两种类型。通过代理终端的连接将经过代理，可使用代理相关的特性和功能，如读写分离、负载均衡、空闲连接回收和 Multi-Statements 等；通过直连终端的连接将直连到对应节点，不能使用代理相关特性。
    /// 
    /// ## Import
    /// 
    /// ```sh
    /// $ pulumi import bytepluscc:rdsmysql/endpoint:Endpoint example "instance_id|endpoint_id"
    /// ```
    /// </summary>
    [ByteplusccResourceType("bytepluscc:rdsmysql/endpoint:Endpoint")]
    public partial class Endpoint : global::Pulumi.CustomResource
    {
        [Output("addresses")]
        public Output<ImmutableArray<Outputs.EndpointAddress>> Addresses { get; private set; } = null!;

        /// <summary>
        /// 当终端类型为读写终端或只读终端时，支持设置新节点是否自动加入。取值：true：自动加入。false：不自动加入（默认）。
        /// </summary>
        [Output("autoAddNewNodes")]
        public Output<bool> AutoAddNewNodes { get; private set; } = null!;

        /// <summary>
        /// 是否关联所有的备节点。取值：true：是。默认值。false：否。说明仅多节点实例的只读终端支持该配置。仅在实例有两个或更多备节点时才能关闭此功能。
        /// </summary>
        [Output("connectAllSlaveNodes")]
        public Output<bool> ConnectAllSlaveNodes { get; private set; } = null!;

        /// <summary>
        /// 连接终端标签。
        /// </summary>
        [Output("connectionInfoTags")]
        public Output<ImmutableArray<string>> ConnectionInfoTags { get; private set; } = null!;

        /// <summary>
        /// 连接终端类型。取值：Proxy：代理终端。Direct：直连终端。说明如实例的数据库代理功能已开启，可以取值为 Proxy 或 Direct。如实例的数据库代理功能未开启，仅可以取值为 Direct。可调用 DescribeDBInstanceDetail 接口查询实例数据库代理功能的开启状态。
        /// </summary>
        [Output("connectionMode")]
        public Output<string> ConnectionMode { get; private set; } = null!;

        /// <summary>
        /// 代理终端的连接池类型。取值：Transaction：事务级连接池。默认值。Direct：直连模式。说明单节点实例不支持该功能。
        /// </summary>
        [Output("connectionPoolType")]
        public Output<string> ConnectionPoolType { get; private set; } = null!;

        /// <summary>
        /// 连接终端的 SQL 转发规则。
        /// </summary>
        [Output("customRouteStrategy")]
        public Output<Outputs.EndpointCustomRouteStrategy> CustomRouteStrategy { get; private set; } = null!;

        /// <summary>
        /// 备注。
        /// </summary>
        [Output("description")]
        public Output<string> Description { get; private set; } = null!;

        /// <summary>
        /// 是否开启连接终端的连接保持功能。取值：true：是。false：否。说明仅代理终端支持该设置。
        /// </summary>
        [Output("enableConnectionPersistent")]
        public Output<bool> EnableConnectionPersistent { get; private set; } = null!;

        /// <summary>
        /// 是否已开启全局只读，取值：Enable：开启。Disable：未开启。
        /// </summary>
        [Output("enableReadOnly")]
        public Output<string> EnableReadOnly { get; private set; } = null!;

        /// <summary>
        /// 实例连接终端 ID。
        /// </summary>
        [Output("endpointId")]
        public Output<string> EndpointId { get; private set; } = null!;

        /// <summary>
        /// 实例连接终端名称。
        /// </summary>
        [Output("endpointName")]
        public Output<string> EndpointName { get; private set; } = null!;

        /// <summary>
        /// 终端类型。取值为 Custom，自定义终端。
        /// </summary>
        [Output("endpointType")]
        public Output<string> EndpointType { get; private set; } = null!;

        /// <summary>
        /// 空闲连接回收功能是否开启。true：开启。false：不开启。说明仅代理终端会返回该字段。
        /// </summary>
        [Output("idleConnectionReclaim")]
        public Output<bool> IdleConnectionReclaim { get; private set; } = null!;

        /// <summary>
        /// 是否开启事务分离。取值：true：是。false：否。说明仅代理终端会返回该字段。
        /// </summary>
        [Output("implicitTransSplit")]
        public Output<bool> ImplicitTransSplit { get; private set; } = null!;

        /// <summary>
        /// 实例 ID。
        /// </summary>
        [Output("instanceId")]
        public Output<string> InstanceId { get; private set; } = null!;

        /// <summary>
        /// 是否开启主节点路由。取值：true：是。false：否。说明仅代理终端会返回该字段。
        /// </summary>
        [Output("masterNodeRouting")]
        public Output<bool> MasterNodeRouting { get; private set; } = null!;

        /// <summary>
        /// 过载保护超时时间。取值范围为 60~7200 之间的整数，单位为秒。说明仅代理终端会返回该字段。
        /// </summary>
        [Output("masterProtectorTimeout")]
        public Output<int> MasterProtectorTimeout { get; private set; } = null!;

        /// <summary>
        /// 代理终端的 Multi-Statements 模式。取值：Strict：Strict 模式。默认值。Loose：Loose 模式。
        /// </summary>
        [Output("multiStatementsMode")]
        public Output<string> MultiStatementsMode { get; private set; } = null!;

        /// <summary>
        /// 连接终端配置的节点 ID 列表。当 EndpointType 为 Custom 时必选。说明如需将主节点加入终端，不需填写主节点 ID，只需填写 Primary。多个节点 ID 之间用英文逗号（,）分隔。
        /// </summary>
        [Output("nodes")]
        public Output<string> Nodes { get; private set; } = null!;

        /// <summary>
        /// 是否开启过载保护。取值：true：是。false：否。说明仅代理终端会返回该字段。
        /// </summary>
        [Output("overloadProtection")]
        public Output<bool> OverloadProtection { get; private set; } = null!;

        /// <summary>
        /// 读权重分配模式。当开通读写分离设置为 true 时需要传入此参数。在 CreateDBEndpoint 和 ModifyDBEndpoint 接口中做请求参数时，取值范围如下：LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。在 DescribeDBInstanceDetail 接口中做返回参数时，取值范围如下：Default：按规格权重自动分配。Custom：自定义分配权重。RoundRobin：轮询调度。LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。
        /// </summary>
        [Output("readOnlyNodeDistributionType")]
        public Output<string> ReadOnlyNodeDistributionType { get; private set; } = null!;

        /// <summary>
        /// 只读节点延迟阈值。取值范围为 1~3600，默认为 30，单位为秒。
        /// </summary>
        [Output("readOnlyNodeMaxDelayTime")]
        public Output<int> ReadOnlyNodeMaxDelayTime { get; private set; } = null!;

        [Output("readOnlyNodeWeights")]
        public Output<ImmutableArray<Outputs.EndpointReadOnlyNodeWeight>> ReadOnlyNodeWeights { get; private set; } = null!;

        /// <summary>
        /// 读写模式：ReadWrite：读写。ReadOnly：只读。
        /// </summary>
        [Output("readWriteMode")]
        public Output<string> ReadWriteMode { get; private set; } = null!;

        /// <summary>
        /// 是否开启读写分离。取值：true：是。默认值。false：否。
        /// </summary>
        [Output("readWriteSpliting")]
        public Output<bool> ReadWriteSpliting { get; private set; } = null!;


        /// <summary>
        /// Create a Endpoint resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public Endpoint(string name, EndpointArgs? args = null, CustomResourceOptions? options = null)
            : base("bytepluscc:rdsmysql/endpoint:Endpoint", name, args ?? new EndpointArgs(), MakeResourceOptions(options, ""))
        {
        }

        private Endpoint(string name, Input<string> id, EndpointState? state = null, CustomResourceOptions? options = null)
            : base("bytepluscc:rdsmysql/endpoint:Endpoint", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                PluginDownloadURL = "github://api.github.com/byteplus-sdk",
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing Endpoint resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static Endpoint Get(string name, Input<string> id, EndpointState? state = null, CustomResourceOptions? options = null)
        {
            return new Endpoint(name, id, state, options);
        }
    }

    public sealed class EndpointArgs : global::Pulumi.ResourceArgs
    {
        [Input("addresses")]
        private InputList<Inputs.EndpointAddressArgs>? _addresses;
        public InputList<Inputs.EndpointAddressArgs> Addresses
        {
            get => _addresses ?? (_addresses = new InputList<Inputs.EndpointAddressArgs>());
            set => _addresses = value;
        }

        /// <summary>
        /// 当终端类型为读写终端或只读终端时，支持设置新节点是否自动加入。取值：true：自动加入。false：不自动加入（默认）。
        /// </summary>
        [Input("autoAddNewNodes")]
        public Input<bool>? AutoAddNewNodes { get; set; }

        /// <summary>
        /// 是否关联所有的备节点。取值：true：是。默认值。false：否。说明仅多节点实例的只读终端支持该配置。仅在实例有两个或更多备节点时才能关闭此功能。
        /// </summary>
        [Input("connectAllSlaveNodes")]
        public Input<bool>? ConnectAllSlaveNodes { get; set; }

        /// <summary>
        /// 连接终端类型。取值：Proxy：代理终端。Direct：直连终端。说明如实例的数据库代理功能已开启，可以取值为 Proxy 或 Direct。如实例的数据库代理功能未开启，仅可以取值为 Direct。可调用 DescribeDBInstanceDetail 接口查询实例数据库代理功能的开启状态。
        /// </summary>
        [Input("connectionMode")]
        public Input<string>? ConnectionMode { get; set; }

        /// <summary>
        /// 代理终端的连接池类型。取值：Transaction：事务级连接池。默认值。Direct：直连模式。说明单节点实例不支持该功能。
        /// </summary>
        [Input("connectionPoolType")]
        public Input<string>? ConnectionPoolType { get; set; }

        /// <summary>
        /// 备注。
        /// </summary>
        [Input("description")]
        public Input<string>? Description { get; set; }

        /// <summary>
        /// 是否开启连接终端的连接保持功能。取值：true：是。false：否。说明仅代理终端支持该设置。
        /// </summary>
        [Input("enableConnectionPersistent")]
        public Input<bool>? EnableConnectionPersistent { get; set; }

        /// <summary>
        /// 实例连接终端名称。
        /// </summary>
        [Input("endpointName")]
        public Input<string>? EndpointName { get; set; }

        /// <summary>
        /// 终端类型。取值为 Custom，自定义终端。
        /// </summary>
        [Input("endpointType")]
        public Input<string>? EndpointType { get; set; }

        /// <summary>
        /// 空闲连接回收功能是否开启。true：开启。false：不开启。说明仅代理终端会返回该字段。
        /// </summary>
        [Input("idleConnectionReclaim")]
        public Input<bool>? IdleConnectionReclaim { get; set; }

        /// <summary>
        /// 是否开启事务分离。取值：true：是。false：否。说明仅代理终端会返回该字段。
        /// </summary>
        [Input("implicitTransSplit")]
        public Input<bool>? ImplicitTransSplit { get; set; }

        /// <summary>
        /// 实例 ID。
        /// </summary>
        [Input("instanceId")]
        public Input<string>? InstanceId { get; set; }

        /// <summary>
        /// 是否开启主节点路由。取值：true：是。false：否。说明仅代理终端会返回该字段。
        /// </summary>
        [Input("masterNodeRouting")]
        public Input<bool>? MasterNodeRouting { get; set; }

        /// <summary>
        /// 过载保护超时时间。取值范围为 60~7200 之间的整数，单位为秒。说明仅代理终端会返回该字段。
        /// </summary>
        [Input("masterProtectorTimeout")]
        public Input<int>? MasterProtectorTimeout { get; set; }

        /// <summary>
        /// 代理终端的 Multi-Statements 模式。取值：Strict：Strict 模式。默认值。Loose：Loose 模式。
        /// </summary>
        [Input("multiStatementsMode")]
        public Input<string>? MultiStatementsMode { get; set; }

        /// <summary>
        /// 连接终端配置的节点 ID 列表。当 EndpointType 为 Custom 时必选。说明如需将主节点加入终端，不需填写主节点 ID，只需填写 Primary。多个节点 ID 之间用英文逗号（,）分隔。
        /// </summary>
        [Input("nodes")]
        public Input<string>? Nodes { get; set; }

        /// <summary>
        /// 是否开启过载保护。取值：true：是。false：否。说明仅代理终端会返回该字段。
        /// </summary>
        [Input("overloadProtection")]
        public Input<bool>? OverloadProtection { get; set; }

        /// <summary>
        /// 读权重分配模式。当开通读写分离设置为 true 时需要传入此参数。在 CreateDBEndpoint 和 ModifyDBEndpoint 接口中做请求参数时，取值范围如下：LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。在 DescribeDBInstanceDetail 接口中做返回参数时，取值范围如下：Default：按规格权重自动分配。Custom：自定义分配权重。RoundRobin：轮询调度。LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。
        /// </summary>
        [Input("readOnlyNodeDistributionType")]
        public Input<string>? ReadOnlyNodeDistributionType { get; set; }

        /// <summary>
        /// 只读节点延迟阈值。取值范围为 1~3600，默认为 30，单位为秒。
        /// </summary>
        [Input("readOnlyNodeMaxDelayTime")]
        public Input<int>? ReadOnlyNodeMaxDelayTime { get; set; }

        [Input("readOnlyNodeWeights")]
        private InputList<Inputs.EndpointReadOnlyNodeWeightArgs>? _readOnlyNodeWeights;
        public InputList<Inputs.EndpointReadOnlyNodeWeightArgs> ReadOnlyNodeWeights
        {
            get => _readOnlyNodeWeights ?? (_readOnlyNodeWeights = new InputList<Inputs.EndpointReadOnlyNodeWeightArgs>());
            set => _readOnlyNodeWeights = value;
        }

        /// <summary>
        /// 读写模式：ReadWrite：读写。ReadOnly：只读。
        /// </summary>
        [Input("readWriteMode")]
        public Input<string>? ReadWriteMode { get; set; }

        /// <summary>
        /// 是否开启读写分离。取值：true：是。默认值。false：否。
        /// </summary>
        [Input("readWriteSpliting")]
        public Input<bool>? ReadWriteSpliting { get; set; }

        public EndpointArgs()
        {
        }
        public static new EndpointArgs Empty => new EndpointArgs();
    }

    public sealed class EndpointState : global::Pulumi.ResourceArgs
    {
        [Input("addresses")]
        private InputList<Inputs.EndpointAddressGetArgs>? _addresses;
        public InputList<Inputs.EndpointAddressGetArgs> Addresses
        {
            get => _addresses ?? (_addresses = new InputList<Inputs.EndpointAddressGetArgs>());
            set => _addresses = value;
        }

        /// <summary>
        /// 当终端类型为读写终端或只读终端时，支持设置新节点是否自动加入。取值：true：自动加入。false：不自动加入（默认）。
        /// </summary>
        [Input("autoAddNewNodes")]
        public Input<bool>? AutoAddNewNodes { get; set; }

        /// <summary>
        /// 是否关联所有的备节点。取值：true：是。默认值。false：否。说明仅多节点实例的只读终端支持该配置。仅在实例有两个或更多备节点时才能关闭此功能。
        /// </summary>
        [Input("connectAllSlaveNodes")]
        public Input<bool>? ConnectAllSlaveNodes { get; set; }

        [Input("connectionInfoTags")]
        private InputList<string>? _connectionInfoTags;

        /// <summary>
        /// 连接终端标签。
        /// </summary>
        public InputList<string> ConnectionInfoTags
        {
            get => _connectionInfoTags ?? (_connectionInfoTags = new InputList<string>());
            set => _connectionInfoTags = value;
        }

        /// <summary>
        /// 连接终端类型。取值：Proxy：代理终端。Direct：直连终端。说明如实例的数据库代理功能已开启，可以取值为 Proxy 或 Direct。如实例的数据库代理功能未开启，仅可以取值为 Direct。可调用 DescribeDBInstanceDetail 接口查询实例数据库代理功能的开启状态。
        /// </summary>
        [Input("connectionMode")]
        public Input<string>? ConnectionMode { get; set; }

        /// <summary>
        /// 代理终端的连接池类型。取值：Transaction：事务级连接池。默认值。Direct：直连模式。说明单节点实例不支持该功能。
        /// </summary>
        [Input("connectionPoolType")]
        public Input<string>? ConnectionPoolType { get; set; }

        /// <summary>
        /// 连接终端的 SQL 转发规则。
        /// </summary>
        [Input("customRouteStrategy")]
        public Input<Inputs.EndpointCustomRouteStrategyGetArgs>? CustomRouteStrategy { get; set; }

        /// <summary>
        /// 备注。
        /// </summary>
        [Input("description")]
        public Input<string>? Description { get; set; }

        /// <summary>
        /// 是否开启连接终端的连接保持功能。取值：true：是。false：否。说明仅代理终端支持该设置。
        /// </summary>
        [Input("enableConnectionPersistent")]
        public Input<bool>? EnableConnectionPersistent { get; set; }

        /// <summary>
        /// 是否已开启全局只读，取值：Enable：开启。Disable：未开启。
        /// </summary>
        [Input("enableReadOnly")]
        public Input<string>? EnableReadOnly { get; set; }

        /// <summary>
        /// 实例连接终端 ID。
        /// </summary>
        [Input("endpointId")]
        public Input<string>? EndpointId { get; set; }

        /// <summary>
        /// 实例连接终端名称。
        /// </summary>
        [Input("endpointName")]
        public Input<string>? EndpointName { get; set; }

        /// <summary>
        /// 终端类型。取值为 Custom，自定义终端。
        /// </summary>
        [Input("endpointType")]
        public Input<string>? EndpointType { get; set; }

        /// <summary>
        /// 空闲连接回收功能是否开启。true：开启。false：不开启。说明仅代理终端会返回该字段。
        /// </summary>
        [Input("idleConnectionReclaim")]
        public Input<bool>? IdleConnectionReclaim { get; set; }

        /// <summary>
        /// 是否开启事务分离。取值：true：是。false：否。说明仅代理终端会返回该字段。
        /// </summary>
        [Input("implicitTransSplit")]
        public Input<bool>? ImplicitTransSplit { get; set; }

        /// <summary>
        /// 实例 ID。
        /// </summary>
        [Input("instanceId")]
        public Input<string>? InstanceId { get; set; }

        /// <summary>
        /// 是否开启主节点路由。取值：true：是。false：否。说明仅代理终端会返回该字段。
        /// </summary>
        [Input("masterNodeRouting")]
        public Input<bool>? MasterNodeRouting { get; set; }

        /// <summary>
        /// 过载保护超时时间。取值范围为 60~7200 之间的整数，单位为秒。说明仅代理终端会返回该字段。
        /// </summary>
        [Input("masterProtectorTimeout")]
        public Input<int>? MasterProtectorTimeout { get; set; }

        /// <summary>
        /// 代理终端的 Multi-Statements 模式。取值：Strict：Strict 模式。默认值。Loose：Loose 模式。
        /// </summary>
        [Input("multiStatementsMode")]
        public Input<string>? MultiStatementsMode { get; set; }

        /// <summary>
        /// 连接终端配置的节点 ID 列表。当 EndpointType 为 Custom 时必选。说明如需将主节点加入终端，不需填写主节点 ID，只需填写 Primary。多个节点 ID 之间用英文逗号（,）分隔。
        /// </summary>
        [Input("nodes")]
        public Input<string>? Nodes { get; set; }

        /// <summary>
        /// 是否开启过载保护。取值：true：是。false：否。说明仅代理终端会返回该字段。
        /// </summary>
        [Input("overloadProtection")]
        public Input<bool>? OverloadProtection { get; set; }

        /// <summary>
        /// 读权重分配模式。当开通读写分离设置为 true 时需要传入此参数。在 CreateDBEndpoint 和 ModifyDBEndpoint 接口中做请求参数时，取值范围如下：LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。在 DescribeDBInstanceDetail 接口中做返回参数时，取值范围如下：Default：按规格权重自动分配。Custom：自定义分配权重。RoundRobin：轮询调度。LoadSchedule：负载调度。RoundRobinCustom：自定义权重的轮询调度。RoundRobinAuto：自动分配权重的轮询调度。
        /// </summary>
        [Input("readOnlyNodeDistributionType")]
        public Input<string>? ReadOnlyNodeDistributionType { get; set; }

        /// <summary>
        /// 只读节点延迟阈值。取值范围为 1~3600，默认为 30，单位为秒。
        /// </summary>
        [Input("readOnlyNodeMaxDelayTime")]
        public Input<int>? ReadOnlyNodeMaxDelayTime { get; set; }

        [Input("readOnlyNodeWeights")]
        private InputList<Inputs.EndpointReadOnlyNodeWeightGetArgs>? _readOnlyNodeWeights;
        public InputList<Inputs.EndpointReadOnlyNodeWeightGetArgs> ReadOnlyNodeWeights
        {
            get => _readOnlyNodeWeights ?? (_readOnlyNodeWeights = new InputList<Inputs.EndpointReadOnlyNodeWeightGetArgs>());
            set => _readOnlyNodeWeights = value;
        }

        /// <summary>
        /// 读写模式：ReadWrite：读写。ReadOnly：只读。
        /// </summary>
        [Input("readWriteMode")]
        public Input<string>? ReadWriteMode { get; set; }

        /// <summary>
        /// 是否开启读写分离。取值：true：是。默认值。false：否。
        /// </summary>
        [Input("readWriteSpliting")]
        public Input<bool>? ReadWriteSpliting { get; set; }

        public EndpointState()
        {
        }
        public static new EndpointState Empty => new EndpointState();
    }
}
