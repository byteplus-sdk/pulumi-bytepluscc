// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package transitrouter

import (
	"context"
	"reflect"

	"errors"
	"github.com/byteplus-sdk/pulumi-bytepluscc/sdk/go/bytepluscc/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// 通过在VPN连接的IPsec连接和中转路由器之间建立连接，可以实现VPN连通的网络与中转路由器的私网互通。
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/byteplus-sdk/pulumi-bytepluscc/sdk/go/bytepluscc/transitrouter"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := transitrouter.NewVpnAttachment(ctx, "TransitRouterVpnAttachmentDemo", &transitrouter.VpnAttachmentArgs{
//				Description: pulumi.String("test"),
//				Tags: transitrouter.VpnAttachmentTagArray{
//					&transitrouter.VpnAttachmentTagArgs{
//						Key:   pulumi.String("env"),
//						Value: pulumi.String("test"),
//					},
//				},
//				TransitRouterAttachmentName: pulumi.String("ccapi-test-1"),
//				TransitRouterId:             pulumi.String("tr-mjl8zkxxxxxsmt1boobol4"),
//				TransitRouterRouteTableId:   pulumi.String("tr-rtb-mjlxxxxxo5smt1bnewrhh"),
//				VpnConnectionId:             pulumi.String("vgc-ij0yxxxxx474o8cux0n08t"),
//				ZoneId:                      pulumi.String("cn-beijing-a"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// ```sh
// $ pulumi import bytepluscc:transitrouter/vpnAttachment:VpnAttachment example "transit_router_id|transit_router_attachment_id"
// ```
type VpnAttachment struct {
	pulumi.CustomResourceState

	// 是否自动同步TR路由到网络实例路由表中。
	AutoPublishRouteEnabled pulumi.BoolOutput `pulumi:"autoPublishRouteEnabled"`
	// 创建时间。
	CreatedTime pulumi.StringOutput `pulumi:"createdTime"`
	// 网络实例连接的描述信息。必须以字母、数字或中文开头，可包含字母、数字、中文和以下特殊字符：英文逗号（,）、点号（.）、下划线（_）、空格（ ）、等号（=）、短横线（-）、中文逗号（，）、中文句号（。）。长度限制为0 ~ 255个字符。不传入该参数或该参数不传入数值时，默认为空字符串。
	Description pulumi.StringOutput `pulumi:"description"`
	// 是否开启健康检查收敛路由功能。true：是。仅当IPsec连接开启健康检查功能时生效，且只支持收敛静态路由，不支持收敛BGP路由。false：否。
	HealthCheckRevokeRouteEnabled pulumi.BoolOutput `pulumi:"healthCheckRevokeRouteEnabled"`
	// 是否开启IPv6功能。
	Ipv6Enabled pulumi.BoolOutput `pulumi:"ipv6Enabled"`
	// 网络实例连接的状态。Creating：创建中。Deleting：删除中。Pending：配置中。Available：可用。
	Status pulumi.StringOutput         `pulumi:"status"`
	Tags   VpnAttachmentTagArrayOutput `pulumi:"tags"`
	// 网络实例连接的ID。
	TransitRouterAttachmentId pulumi.StringOutput `pulumi:"transitRouterAttachmentId"`
	// 网络实例连接的名称。必须以字母、数字或中文开头，可包含字母、数字、中文和以下特殊字符：点号（.）、下划线（_）和短横线（-）。长度限制为1 ~ 128个字符。不传入该参数或该参数不传入数值时，默认为网络实例连接的ID。
	TransitRouterAttachmentName pulumi.StringOutput `pulumi:"transitRouterAttachmentName"`
	// 中转路由器实例的ID。
	TransitRouterId pulumi.StringOutput `pulumi:"transitRouterId"`
	// 关联的TR路由表ID。
	TransitRouterRouteTableId pulumi.StringOutput `pulumi:"transitRouterRouteTableId"`
	// 更新时间。
	UpdatedTime pulumi.StringOutput `pulumi:"updatedTime"`
	// IPsec连接的ID。
	VpnConnectionId pulumi.StringOutput `pulumi:"vpnConnectionId"`
	// IPsec连接所属可用区的ID。
	ZoneId pulumi.StringOutput `pulumi:"zoneId"`
}

// NewVpnAttachment registers a new resource with the given unique name, arguments, and options.
func NewVpnAttachment(ctx *pulumi.Context,
	name string, args *VpnAttachmentArgs, opts ...pulumi.ResourceOption) (*VpnAttachment, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.TransitRouterId == nil {
		return nil, errors.New("invalid value for required argument 'TransitRouterId'")
	}
	if args.VpnConnectionId == nil {
		return nil, errors.New("invalid value for required argument 'VpnConnectionId'")
	}
	if args.ZoneId == nil {
		return nil, errors.New("invalid value for required argument 'ZoneId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource VpnAttachment
	err := ctx.RegisterResource("bytepluscc:transitrouter/vpnAttachment:VpnAttachment", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetVpnAttachment gets an existing VpnAttachment resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetVpnAttachment(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *VpnAttachmentState, opts ...pulumi.ResourceOption) (*VpnAttachment, error) {
	var resource VpnAttachment
	err := ctx.ReadResource("bytepluscc:transitrouter/vpnAttachment:VpnAttachment", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering VpnAttachment resources.
type vpnAttachmentState struct {
	// 是否自动同步TR路由到网络实例路由表中。
	AutoPublishRouteEnabled *bool `pulumi:"autoPublishRouteEnabled"`
	// 创建时间。
	CreatedTime *string `pulumi:"createdTime"`
	// 网络实例连接的描述信息。必须以字母、数字或中文开头，可包含字母、数字、中文和以下特殊字符：英文逗号（,）、点号（.）、下划线（_）、空格（ ）、等号（=）、短横线（-）、中文逗号（，）、中文句号（。）。长度限制为0 ~ 255个字符。不传入该参数或该参数不传入数值时，默认为空字符串。
	Description *string `pulumi:"description"`
	// 是否开启健康检查收敛路由功能。true：是。仅当IPsec连接开启健康检查功能时生效，且只支持收敛静态路由，不支持收敛BGP路由。false：否。
	HealthCheckRevokeRouteEnabled *bool `pulumi:"healthCheckRevokeRouteEnabled"`
	// 是否开启IPv6功能。
	Ipv6Enabled *bool `pulumi:"ipv6Enabled"`
	// 网络实例连接的状态。Creating：创建中。Deleting：删除中。Pending：配置中。Available：可用。
	Status *string            `pulumi:"status"`
	Tags   []VpnAttachmentTag `pulumi:"tags"`
	// 网络实例连接的ID。
	TransitRouterAttachmentId *string `pulumi:"transitRouterAttachmentId"`
	// 网络实例连接的名称。必须以字母、数字或中文开头，可包含字母、数字、中文和以下特殊字符：点号（.）、下划线（_）和短横线（-）。长度限制为1 ~ 128个字符。不传入该参数或该参数不传入数值时，默认为网络实例连接的ID。
	TransitRouterAttachmentName *string `pulumi:"transitRouterAttachmentName"`
	// 中转路由器实例的ID。
	TransitRouterId *string `pulumi:"transitRouterId"`
	// 关联的TR路由表ID。
	TransitRouterRouteTableId *string `pulumi:"transitRouterRouteTableId"`
	// 更新时间。
	UpdatedTime *string `pulumi:"updatedTime"`
	// IPsec连接的ID。
	VpnConnectionId *string `pulumi:"vpnConnectionId"`
	// IPsec连接所属可用区的ID。
	ZoneId *string `pulumi:"zoneId"`
}

type VpnAttachmentState struct {
	// 是否自动同步TR路由到网络实例路由表中。
	AutoPublishRouteEnabled pulumi.BoolPtrInput
	// 创建时间。
	CreatedTime pulumi.StringPtrInput
	// 网络实例连接的描述信息。必须以字母、数字或中文开头，可包含字母、数字、中文和以下特殊字符：英文逗号（,）、点号（.）、下划线（_）、空格（ ）、等号（=）、短横线（-）、中文逗号（，）、中文句号（。）。长度限制为0 ~ 255个字符。不传入该参数或该参数不传入数值时，默认为空字符串。
	Description pulumi.StringPtrInput
	// 是否开启健康检查收敛路由功能。true：是。仅当IPsec连接开启健康检查功能时生效，且只支持收敛静态路由，不支持收敛BGP路由。false：否。
	HealthCheckRevokeRouteEnabled pulumi.BoolPtrInput
	// 是否开启IPv6功能。
	Ipv6Enabled pulumi.BoolPtrInput
	// 网络实例连接的状态。Creating：创建中。Deleting：删除中。Pending：配置中。Available：可用。
	Status pulumi.StringPtrInput
	Tags   VpnAttachmentTagArrayInput
	// 网络实例连接的ID。
	TransitRouterAttachmentId pulumi.StringPtrInput
	// 网络实例连接的名称。必须以字母、数字或中文开头，可包含字母、数字、中文和以下特殊字符：点号（.）、下划线（_）和短横线（-）。长度限制为1 ~ 128个字符。不传入该参数或该参数不传入数值时，默认为网络实例连接的ID。
	TransitRouterAttachmentName pulumi.StringPtrInput
	// 中转路由器实例的ID。
	TransitRouterId pulumi.StringPtrInput
	// 关联的TR路由表ID。
	TransitRouterRouteTableId pulumi.StringPtrInput
	// 更新时间。
	UpdatedTime pulumi.StringPtrInput
	// IPsec连接的ID。
	VpnConnectionId pulumi.StringPtrInput
	// IPsec连接所属可用区的ID。
	ZoneId pulumi.StringPtrInput
}

func (VpnAttachmentState) ElementType() reflect.Type {
	return reflect.TypeOf((*vpnAttachmentState)(nil)).Elem()
}

type vpnAttachmentArgs struct {
	// 网络实例连接的描述信息。必须以字母、数字或中文开头，可包含字母、数字、中文和以下特殊字符：英文逗号（,）、点号（.）、下划线（_）、空格（ ）、等号（=）、短横线（-）、中文逗号（，）、中文句号（。）。长度限制为0 ~ 255个字符。不传入该参数或该参数不传入数值时，默认为空字符串。
	Description *string `pulumi:"description"`
	// 是否开启健康检查收敛路由功能。true：是。仅当IPsec连接开启健康检查功能时生效，且只支持收敛静态路由，不支持收敛BGP路由。false：否。
	HealthCheckRevokeRouteEnabled *bool              `pulumi:"healthCheckRevokeRouteEnabled"`
	Tags                          []VpnAttachmentTag `pulumi:"tags"`
	// 网络实例连接的名称。必须以字母、数字或中文开头，可包含字母、数字、中文和以下特殊字符：点号（.）、下划线（_）和短横线（-）。长度限制为1 ~ 128个字符。不传入该参数或该参数不传入数值时，默认为网络实例连接的ID。
	TransitRouterAttachmentName *string `pulumi:"transitRouterAttachmentName"`
	// 中转路由器实例的ID。
	TransitRouterId string `pulumi:"transitRouterId"`
	// 关联的TR路由表ID。
	TransitRouterRouteTableId *string `pulumi:"transitRouterRouteTableId"`
	// IPsec连接的ID。
	VpnConnectionId string `pulumi:"vpnConnectionId"`
	// IPsec连接所属可用区的ID。
	ZoneId string `pulumi:"zoneId"`
}

// The set of arguments for constructing a VpnAttachment resource.
type VpnAttachmentArgs struct {
	// 网络实例连接的描述信息。必须以字母、数字或中文开头，可包含字母、数字、中文和以下特殊字符：英文逗号（,）、点号（.）、下划线（_）、空格（ ）、等号（=）、短横线（-）、中文逗号（，）、中文句号（。）。长度限制为0 ~ 255个字符。不传入该参数或该参数不传入数值时，默认为空字符串。
	Description pulumi.StringPtrInput
	// 是否开启健康检查收敛路由功能。true：是。仅当IPsec连接开启健康检查功能时生效，且只支持收敛静态路由，不支持收敛BGP路由。false：否。
	HealthCheckRevokeRouteEnabled pulumi.BoolPtrInput
	Tags                          VpnAttachmentTagArrayInput
	// 网络实例连接的名称。必须以字母、数字或中文开头，可包含字母、数字、中文和以下特殊字符：点号（.）、下划线（_）和短横线（-）。长度限制为1 ~ 128个字符。不传入该参数或该参数不传入数值时，默认为网络实例连接的ID。
	TransitRouterAttachmentName pulumi.StringPtrInput
	// 中转路由器实例的ID。
	TransitRouterId pulumi.StringInput
	// 关联的TR路由表ID。
	TransitRouterRouteTableId pulumi.StringPtrInput
	// IPsec连接的ID。
	VpnConnectionId pulumi.StringInput
	// IPsec连接所属可用区的ID。
	ZoneId pulumi.StringInput
}

func (VpnAttachmentArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*vpnAttachmentArgs)(nil)).Elem()
}

type VpnAttachmentInput interface {
	pulumi.Input

	ToVpnAttachmentOutput() VpnAttachmentOutput
	ToVpnAttachmentOutputWithContext(ctx context.Context) VpnAttachmentOutput
}

func (*VpnAttachment) ElementType() reflect.Type {
	return reflect.TypeOf((**VpnAttachment)(nil)).Elem()
}

func (i *VpnAttachment) ToVpnAttachmentOutput() VpnAttachmentOutput {
	return i.ToVpnAttachmentOutputWithContext(context.Background())
}

func (i *VpnAttachment) ToVpnAttachmentOutputWithContext(ctx context.Context) VpnAttachmentOutput {
	return pulumi.ToOutputWithContext(ctx, i).(VpnAttachmentOutput)
}

// VpnAttachmentArrayInput is an input type that accepts VpnAttachmentArray and VpnAttachmentArrayOutput values.
// You can construct a concrete instance of `VpnAttachmentArrayInput` via:
//
//	VpnAttachmentArray{ VpnAttachmentArgs{...} }
type VpnAttachmentArrayInput interface {
	pulumi.Input

	ToVpnAttachmentArrayOutput() VpnAttachmentArrayOutput
	ToVpnAttachmentArrayOutputWithContext(context.Context) VpnAttachmentArrayOutput
}

type VpnAttachmentArray []VpnAttachmentInput

func (VpnAttachmentArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*VpnAttachment)(nil)).Elem()
}

func (i VpnAttachmentArray) ToVpnAttachmentArrayOutput() VpnAttachmentArrayOutput {
	return i.ToVpnAttachmentArrayOutputWithContext(context.Background())
}

func (i VpnAttachmentArray) ToVpnAttachmentArrayOutputWithContext(ctx context.Context) VpnAttachmentArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(VpnAttachmentArrayOutput)
}

// VpnAttachmentMapInput is an input type that accepts VpnAttachmentMap and VpnAttachmentMapOutput values.
// You can construct a concrete instance of `VpnAttachmentMapInput` via:
//
//	VpnAttachmentMap{ "key": VpnAttachmentArgs{...} }
type VpnAttachmentMapInput interface {
	pulumi.Input

	ToVpnAttachmentMapOutput() VpnAttachmentMapOutput
	ToVpnAttachmentMapOutputWithContext(context.Context) VpnAttachmentMapOutput
}

type VpnAttachmentMap map[string]VpnAttachmentInput

func (VpnAttachmentMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*VpnAttachment)(nil)).Elem()
}

func (i VpnAttachmentMap) ToVpnAttachmentMapOutput() VpnAttachmentMapOutput {
	return i.ToVpnAttachmentMapOutputWithContext(context.Background())
}

func (i VpnAttachmentMap) ToVpnAttachmentMapOutputWithContext(ctx context.Context) VpnAttachmentMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(VpnAttachmentMapOutput)
}

type VpnAttachmentOutput struct{ *pulumi.OutputState }

func (VpnAttachmentOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**VpnAttachment)(nil)).Elem()
}

func (o VpnAttachmentOutput) ToVpnAttachmentOutput() VpnAttachmentOutput {
	return o
}

func (o VpnAttachmentOutput) ToVpnAttachmentOutputWithContext(ctx context.Context) VpnAttachmentOutput {
	return o
}

// 是否自动同步TR路由到网络实例路由表中。
func (o VpnAttachmentOutput) AutoPublishRouteEnabled() pulumi.BoolOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.BoolOutput { return v.AutoPublishRouteEnabled }).(pulumi.BoolOutput)
}

// 创建时间。
func (o VpnAttachmentOutput) CreatedTime() pulumi.StringOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.StringOutput { return v.CreatedTime }).(pulumi.StringOutput)
}

// 网络实例连接的描述信息。必须以字母、数字或中文开头，可包含字母、数字、中文和以下特殊字符：英文逗号（,）、点号（.）、下划线（_）、空格（ ）、等号（=）、短横线（-）、中文逗号（，）、中文句号（。）。长度限制为0 ~ 255个字符。不传入该参数或该参数不传入数值时，默认为空字符串。
func (o VpnAttachmentOutput) Description() pulumi.StringOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.StringOutput { return v.Description }).(pulumi.StringOutput)
}

// 是否开启健康检查收敛路由功能。true：是。仅当IPsec连接开启健康检查功能时生效，且只支持收敛静态路由，不支持收敛BGP路由。false：否。
func (o VpnAttachmentOutput) HealthCheckRevokeRouteEnabled() pulumi.BoolOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.BoolOutput { return v.HealthCheckRevokeRouteEnabled }).(pulumi.BoolOutput)
}

// 是否开启IPv6功能。
func (o VpnAttachmentOutput) Ipv6Enabled() pulumi.BoolOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.BoolOutput { return v.Ipv6Enabled }).(pulumi.BoolOutput)
}

// 网络实例连接的状态。Creating：创建中。Deleting：删除中。Pending：配置中。Available：可用。
func (o VpnAttachmentOutput) Status() pulumi.StringOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.StringOutput { return v.Status }).(pulumi.StringOutput)
}

func (o VpnAttachmentOutput) Tags() VpnAttachmentTagArrayOutput {
	return o.ApplyT(func(v *VpnAttachment) VpnAttachmentTagArrayOutput { return v.Tags }).(VpnAttachmentTagArrayOutput)
}

// 网络实例连接的ID。
func (o VpnAttachmentOutput) TransitRouterAttachmentId() pulumi.StringOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.StringOutput { return v.TransitRouterAttachmentId }).(pulumi.StringOutput)
}

// 网络实例连接的名称。必须以字母、数字或中文开头，可包含字母、数字、中文和以下特殊字符：点号（.）、下划线（_）和短横线（-）。长度限制为1 ~ 128个字符。不传入该参数或该参数不传入数值时，默认为网络实例连接的ID。
func (o VpnAttachmentOutput) TransitRouterAttachmentName() pulumi.StringOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.StringOutput { return v.TransitRouterAttachmentName }).(pulumi.StringOutput)
}

// 中转路由器实例的ID。
func (o VpnAttachmentOutput) TransitRouterId() pulumi.StringOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.StringOutput { return v.TransitRouterId }).(pulumi.StringOutput)
}

// 关联的TR路由表ID。
func (o VpnAttachmentOutput) TransitRouterRouteTableId() pulumi.StringOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.StringOutput { return v.TransitRouterRouteTableId }).(pulumi.StringOutput)
}

// 更新时间。
func (o VpnAttachmentOutput) UpdatedTime() pulumi.StringOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.StringOutput { return v.UpdatedTime }).(pulumi.StringOutput)
}

// IPsec连接的ID。
func (o VpnAttachmentOutput) VpnConnectionId() pulumi.StringOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.StringOutput { return v.VpnConnectionId }).(pulumi.StringOutput)
}

// IPsec连接所属可用区的ID。
func (o VpnAttachmentOutput) ZoneId() pulumi.StringOutput {
	return o.ApplyT(func(v *VpnAttachment) pulumi.StringOutput { return v.ZoneId }).(pulumi.StringOutput)
}

type VpnAttachmentArrayOutput struct{ *pulumi.OutputState }

func (VpnAttachmentArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*VpnAttachment)(nil)).Elem()
}

func (o VpnAttachmentArrayOutput) ToVpnAttachmentArrayOutput() VpnAttachmentArrayOutput {
	return o
}

func (o VpnAttachmentArrayOutput) ToVpnAttachmentArrayOutputWithContext(ctx context.Context) VpnAttachmentArrayOutput {
	return o
}

func (o VpnAttachmentArrayOutput) Index(i pulumi.IntInput) VpnAttachmentOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *VpnAttachment {
		return vs[0].([]*VpnAttachment)[vs[1].(int)]
	}).(VpnAttachmentOutput)
}

type VpnAttachmentMapOutput struct{ *pulumi.OutputState }

func (VpnAttachmentMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*VpnAttachment)(nil)).Elem()
}

func (o VpnAttachmentMapOutput) ToVpnAttachmentMapOutput() VpnAttachmentMapOutput {
	return o
}

func (o VpnAttachmentMapOutput) ToVpnAttachmentMapOutputWithContext(ctx context.Context) VpnAttachmentMapOutput {
	return o
}

func (o VpnAttachmentMapOutput) MapIndex(k pulumi.StringInput) VpnAttachmentOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *VpnAttachment {
		return vs[0].(map[string]*VpnAttachment)[vs[1].(string)]
	}).(VpnAttachmentOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*VpnAttachmentInput)(nil)).Elem(), &VpnAttachment{})
	pulumi.RegisterInputType(reflect.TypeOf((*VpnAttachmentArrayInput)(nil)).Elem(), VpnAttachmentArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*VpnAttachmentMapInput)(nil)).Elem(), VpnAttachmentMap{})
	pulumi.RegisterOutputType(VpnAttachmentOutput{})
	pulumi.RegisterOutputType(VpnAttachmentArrayOutput{})
	pulumi.RegisterOutputType(VpnAttachmentMapOutput{})
}
